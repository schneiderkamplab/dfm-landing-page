<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Danish Foundation Models</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/index.css"/>
</head>

<body class="font-sans bg-gray-50 text-gray-800">
    <!-- Navigation -->
    <nav class="fixed w-full bg-white shadow-md z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <img src="/icon.png" alt="Logo" class="w-8 h-8">
                <span class="text-xl font-bold text-dfmBlue">Danish Foundation Models</span>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#about" class="nav-link text-dfmBlue hover:text-dfmLightBlue">About</a>
                <a href="#news" class="nav-link text-dfmBlue hover:text-dfmLightBlue">News</a>
                <a href="#roadmap" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Roadmap</a>
                <a href="#contribute" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Contribute</a>
                <a href="#contact" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Contact</a>
                <div class="relative">
                    <a href="#" id="admin-login-link" class="nav-link text-gray-300 hover:text-dfmLightBlue">
                        <span id="admin-login-label">[Admin]</span>
                    </a>
                    <div id="admin-login-box"
                        class="absolute top-full mt-2 right-0 bg-white shadow-lg border border-gray-200 rounded-lg p-4 hidden z-50 w-64">
                        <input type="password" id="admin-password" placeholder="Enter password"
                            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-dfmTeal text-sm mb-2">
                        <button id="admin-login-submit"
                            class="w-full bg-dfmTeal hover:bg-dfmBlue text-white font-semibold py-1.5 px-4 rounded-md text-sm">
                            Login
                        </button>
                        <p id="admin-login-error" class="text-red-600 text-sm mt-2 hidden"></p>
                    </div>
                </div>
            </div>
            <button class="md:hidden focus:outline-none" id="mobile-menu-button">
                <i class="fas fa-bars text-2xl text-dfmBlue"></i>
            </button>
        </div>
        <!-- Mobile menu -->
        <div class="md:hidden hidden bg-white w-full px-6 py-3" id="mobile-menu">
            <div class="flex flex-col space-y-3">
                <a href="#about" class="nav-link text-dfmBlue hover:text-dfmLightBlue">About</a>
                <a href="#news" class="nav-link text-dfmBlue hover:text-dfmLightBlue">News</a>
                <a href="#roadmap" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Roadmap</a>
                <a href="#contribute" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Contribute</a>
                <a href="#contact" class="nav-link text-dfmBlue hover:text-dfmLightBlue">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-24 pb-20 bg-gradient-to-r from-dfmBlue to-dfmTeal text-white">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Danish Foundation Models</h1>
            <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">Advancing AI research and development with open,
                Danish-language foundation models</p>
            <div class="flex flex-col md:flex-row justify-center gap-4">
                <a href="#contribute"
                    class="bg-dfmGreen hover:bg-dfmLightBlue text-white font-bold py-3 px-6 rounded-full transition duration-300 transform hover:scale-105">
                    Get Involved
                </a>
                <a href="#about"
                    class="bg-transparent hover:bg-white hover:text-dfmBlue text-white font-bold py-3 px-6 border-2 border-white rounded-full transition duration-300 transform hover:scale-105">
                    Learn More
                </a>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <div class="flex flex-col space-y-12 mt-8">
        <!-- Top Row: Logo + Our Mission -->
        <div class="flex flex-col md:flex-row items-start gap-12">
            <!-- Logo / Illustration -->
            <div class="w-full md:w-1/3">
                <img src="/structure.png" alt="Project Logo" class="w-full h-auto rounded-xl shadow-xl">
            </div>

            <!-- Why Danish Foundation Models -->
            <div class="w-full md:w-2/3">
                <h3 class="text-2xl font-bold mb-4 text-dfmTeal">Our Mission</h3>
                <p class="text-lg mb-6">
                    The Danish Foundation Models (DFM) project is a national initiative to develop high-quality,
                    open-source language models specifically tailored to Danish. As most large-scale AI models are
                    trained primarily in English, smaller languages like Danish risk being left behind. DFM addresses
                    this gap by building models that reflect the linguistic and cultural nuances of Danish, supporting
                    not only language understanding but also digital inclusion. A key priority of the project is data
                    sovereignty – ensuring that training data remains under local control and reflects Danish societal
                    values. By developing open, transparent models through local institutions, DFM strengthens Denmark’s
                    capacity to shape its own digital infrastructure and reduce reliance on foreign-controlled AI
                    platforms.
                </p>

                <h4 class="text-xl font-semibold mb-4 text-dfmTeal">Collaborating Institutions</h4>
                <ul class="list-disc list-inside text-gray-800 space-y-2">
                    <li>
                        <a href="https://chc.au.dk/" class="text-dfmBlue hover:underline" target="_blank"
                            rel="noopener">Center for Humanities Computing</a>, Aarhus University
                    </li>
                    <li>
                        <a href="https://www.sdu.dk/en/forskning/machine-learning" class="text-dfmBlue hover:underline"
                            target="_blank" rel="noopener">Center for Machine Learning</a>, University of Southern
                        Denmark
                    </li>
                    <li>
                        <a href="https://alexandra.dk/" class="text-dfmBlue hover:underline" target="_blank"
                            rel="noopener">Alexandra Institute</a>
                    </li>
                    <li>
                        <a href="https://cst.ku.dk/" class="text-dfmBlue hover:underline" target="_blank"
                            rel="noopener">Center for Language Technology (CLT)</a> &amp;
                        <a href="https://di.ku.dk/english/" class="text-dfmBlue hover:underline" target="_blank"
                            rel="noopener">Department of Computer Science (DIKU)</a>, University of Copenhagen
                    </li>
                </ul>
            </div>
        </div>

        <!-- Bottom Content: Why Danish Models + Feature Grid -->
        <div>
            <div class="grid grid-cols-4 gap-4 mt-8">
                <div class="bg-gray-100 p-4 rounded-lg">
                    <i class="fas fa-language text-3xl mb-2 text-dfmBlue"></i>
                    <h4 class="font-bold">Language Specific</h4>
                    <p>Optimized for Danish language nuances</p>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <i class="fas fa-lock-open text-3xl mb-2 text-dfmBlue"></i>
                    <h4 class="font-bold">Open Source</h4>
                    <p>Freely available for research and commercial use</p>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <i class="fas fa-users text-3xl mb-2 text-dfmBlue"></i>
                    <h4 class="font-bold">Community Driven</h4>
                    <p>Built with input from Danish researchers</p>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <i class="fas fa-chart-line text-3xl mb-2 text-dfmBlue"></i>
                    <h4 class="font-bold">Cutting Edge</h4>
                    <p>Incorporates latest AI research</p>
                </div>
            </div>
        </div>
    </div>

    <!-- News Section -->
    <section id="news" class="section py-20 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-dfmBlue">Latest News</h2>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="news-container">
                <!-- News items will be added here by JavaScript -->
            </div>

            <div class="mt-12 text-center">
                <button id="add-news-btn"
                    class="hidden bg-dfmLightBlue hover:bg-dfmBlue text-white font-bold py-3 px-6 rounded-full transition duration-300">
                    Add News Item
                </button>

                <!-- News Form (Hidden by default) -->
                <div id="news-form" class="hidden mt-8 max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg">
                    <form id="news-item-form">
                        <div class="mb-4">
                            <label for="news-title" class="block text-gray-700 mb-2">Title</label>
                            <input type="text" id="news-title"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                        </div>
                        <div class="mb-4">
                            <label for="news-date" class="block text-gray-700 mb-2">Date</label>
                            <input type="date" id="news-date"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                        </div>
                        <div class="mb-4">
                            <label for="news-content" class="block text-gray-700 mb-2">Content</label>
                            <textarea id="news-content" rows="4"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal"></textarea>
                        </div>
                        <div class="flex justify-end gap-4">
                            <button type="button" id="cancel-news"
                                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">
                                Cancel
                            </button>
                            <button id="news-submit-btn" type="submit"
                                class="bg-dfmGreen hover:bg-dfmTeal text-white font-bold py-2 px-4 rounded">
                                Placeholder
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Roadmap Section -->
    <section id="roadmap" class="section py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-dfmBlue">Project Roadmap</h2>

            <div class="relative max-w-3xl mx-auto">
                <!-- Timeline -->
                <div class="space-y-8">
                    <!-- Roadmap items will be added here -->
                    <div class="roadmap-item relative pl-10">
                        <div class="absolute -left-3 top-0 w-6 h-6 rounded-full bg-dfmTeal border-4 border-white"></div>
                        <div class="bg-gray-100 p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-xl font-bold text-dfmBlue">Phase 1: Research & Planning</h3>
                                <span class="bg-dfmBlue text-white text-sm px-3 py-1 rounded-full">Q1 2023</span>
                            </div>
                            <p class="text-gray-700">Establish research framework, gather Danish language datasets, and
                                define model architecture.</p>
                            <div class="mt-4">
                                <span
                                    class="inline-block bg-dfmGreen text-white text-xs px-2 py-1 rounded mr-2">Completed</span>
                            </div>
                        </div>
                    </div>

                    <div class="roadmap-item relative pl-10">
                        <div class="absolute -left-3 top-0 w-6 h-6 rounded-full bg-dfmTeal border-4 border-white"></div>
                        <div class="bg-gray-100 p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-xl font-bold text-dfmBlue">Phase 2: Initial Model Development</h3>
                                <span class="bg-dfmBlue text-white text-sm px-3 py-1 rounded-full">Q2-Q3 2023</span>
                            </div>
                            <p class="text-gray-700">Develop first versions of Danish language models, focusing on core
                                language understanding capabilities.</p>
                            <div class="mt-4">
                                <span
                                    class="inline-block bg-dfmGreen text-white text-xs px-2 py-1 rounded mr-2">Completed</span>
                            </div>
                        </div>
                    </div>

                    <div class="roadmap-item relative pl-10">
                        <div class="absolute -left-3 top-0 w-6 h-6 rounded-full bg-dfmTeal border-4 border-white"></div>
                        <div class="bg-gray-100 p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-xl font-bold text-dfmBlue">Phase 3: Community Testing</h3>
                                <span class="bg-dfmLightBlue text-white text-sm px-3 py-1 rounded-full">Q4 2023</span>
                            </div>
                            <p class="text-gray-700">Release beta versions to research community for feedback and
                                improvement.</p>
                            <div class="mt-4">
                                <span class="inline-block bg-yellow-500 text-white text-xs px-2 py-1 rounded mr-2">In
                                    Progress</span>
                            </div>
                        </div>
                    </div>

                    <div class="roadmap-item relative pl-10">
                        <div class="absolute -left-3 top-0 w-6 h-6 rounded-full bg-dfmTeal border-4 border-white"></div>
                        <div class="bg-gray-100 p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-xl font-bold text-dfmBlue">Phase 4: Model Optimization</h3>
                                <span class="bg-dfmBlue text-white text-sm px-3 py-1 rounded-full">Q1 2024</span>
                            </div>
                            <p class="text-gray-700">Refine models based on community feedback, improve efficiency and
                                Danish-specific performance.</p>
                        </div>
                    </div>

                    <div class="roadmap-item relative pl-10">
                        <div class="absolute -left-3 top-0 w-6 h-6 rounded-full bg-dfmTeal border-4 border-white"></div>
                        <div class="bg-gray-100 p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-xl font-bold text-dfmBlue">Phase 5: Public Release</h3>
                                <span class="bg-dfmBlue text-white text-sm px-3 py-1 rounded-full">Q2 2024</span>
                            </div>
                            <p class="text-gray-700">Release stable versions of Danish foundation models with
                                documentation and examples.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contribute Section -->
    <section id="contribute" class="section py-20 bg-gradient-to-r from-dfmBlue to-dfmTeal text-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-16">How to Contribute</h2>

            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div
                    class="bg-white bg-opacity-10 p-8 rounded-xl backdrop-blur-sm border border-white border-opacity-20">
                    <i class="fas fa-code text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Technical Contributions</h3>
                    <p class="mb-6">Help develop and improve the models. We welcome contributions in model architecture,
                        training pipelines, and evaluation frameworks.</p>
                    <a href="https://github.com/centre-for-humanities-computing/danish-foundation-models/"
                        class="inline-block bg-white text-dfmBlue font-bold py-2 px-4 rounded hover:bg-gray-100 transition">View
                        GitHub</a>
                </div>

                <div
                    class="bg-white bg-opacity-10 p-8 rounded-xl backdrop-blur-sm border border-white border-opacity-20">
                    <i class="fas fa-database text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Data Contributions</h3>
                    <p class="mb-6">Contribute Danish language datasets or help curate existing data. High-quality,
                        diverse datasets are crucial for model performance.</p>
                    <a href="https://alexandra.dk/dsk/"
                        class="inline-block bg-white text-dfmBlue font-bold py-2 px-4 rounded hover:bg-gray-100 transition">Dansk
                        Sprogmodel Konsortium</a>
                </div>

                <div
                    class="bg-white bg-opacity-10 p-8 rounded-xl backdrop-blur-sm border border-white border-opacity-20">
                    <i class="fas fa-comments text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Community & Feedback</h3>
                    <p class="mb-6">Join discussions, report issues, or test models. Your feedback helps shape the
                        direction of the project.</p>
                    <a href="#"
                        class="inline-block bg-white text-dfmBlue font-bold py-2 px-4 rounded hover:bg-gray-100 transition">Join
                        Forum</a>
                </div>
            </div>

            <div
                class="mt-16 max-w-4xl mx-auto bg-white bg-opacity-10 p-8 rounded-xl backdrop-blur-sm border border-white border-opacity-20">
                <h3 class="text-2xl font-bold mb-6 text-center">Become a Partner</h3>
                <p class="mb-6 text-center">Academic institutions, research organizations, and companies interested in
                    collaborating can become official partners of the Danish Foundation Models project.</p>
                <div class="text-center">
                    <a href="#contact"
                        class="inline-block bg-dfmGreen hover:bg-dfmLightBlue text-white font-bold py-3 px-6 rounded-full transition">Contact
                        Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-dfmBlue">Contact Us</h2>

            <div class="flex flex-col md:flex-row gap-12 max-w-6xl mx-auto">
                <div class="md:w-1/2">
                    <form id="contact-form" class="space-y-6">
                        <div>
                            <label for="name" class="block text-gray-700 mb-2">Name</label>
                            <input type="text" id="name"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                        </div>
                        <div>
                            <label for="email" class="block text-gray-700 mb-2">Email</label>
                            <input type="email" id="email"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                        </div>
                        <div>
                            <label for="subject" class="block text-gray-700 mb-2">Subject</label>
                            <select id="subject"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                                <option value="">Select a subject</option>
                                <option value="collaboration">Collaboration Inquiry</option>
                                <option value="contribution">Contribution Question</option>
                                <option value="technical">Technical Support</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label for="message" class="block text-gray-700 mb-2">Message</label>
                            <textarea id="message" rows="5"
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal"></textarea>
                        </div>
                        <button type="submit"
                            class="w-full bg-dfmTeal hover:bg-dfmBlue text-white font-bold py-3 px-6 rounded-lg transition duration-300">
                            Send Message
                        </button>
                    </form>
                </div>

                <div class="md:w-1/2">
                    <div class="bg-gray-100 p-8 rounded-xl h-full">
                        <h3 class="text-2xl font-bold mb-6 text-dfmBlue">Project Information</h3>

                        <div class="space-y-6">
                            <div class="flex items-start">
                                <i class="fas fa-map-marker-alt text-dfmTeal text-xl mt-1 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">Location</h4>
                                    <p class="text-gray-700">Copenhagen, Denmark</p>
                                </div>
                            </div>

                            <div class="flex items-start">
                                <i class="fas fa-envelope text-dfmTeal text-xl mt-1 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">Email</h4>
                                    <p class="text-gray-700">petersk@sdu.dk</p>
                                </div>
                            </div>

                            <div class="flex items-start">
                                <i class="fas fa-users text-dfmTeal text-xl mt-1 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">Community</h4>
                                    <div class="flex space-x-4 mt-2">
                                        <a href="#" class="text-dfmBlue hover:text-dfmLightBlue text-2xl"><i
                                                class="fab fa-github"></i></a>
                                        <a href="#" class="text-dfmBlue hover:text-dfmLightBlue text-2xl"><i
                                                class="fab fa-twitter"></i></a>
                                        <a href="#" class="text-dfmBlue hover:text-dfmLightBlue text-2xl"><i
                                                class="fab fa-linkedin"></i></a>
                                        <a href="#" class="text-dfmBlue hover:text-dfmLightBlue text-2xl"><i
                                                class="fab fa-discord"></i></a>
                                    </div>
                                </div>
                            </div>

                            <div class="pt-6">
                                <h4 class="font-bold text-gray-800 mb-4">Subscribe to Newsletter</h4>
                                <p class="text-sm text-gray-600 mt-2">Get updates on project milestones and releases.
                                </p>
                                <div class="space-y-3 mt-4">
                                    <div class="flex space-x-2">
                                        <input type="email" id="newsletter-email" placeholder="Your email"
                                            class="flex-grow px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-dfmTeal">
                                        <button id="newsletter-submit"
                                            class="bg-dfmTeal hover:bg-dfmBlue text-white px-4 py-2 rounded-lg transition duration-300">
                                            Subscribe
                                        </button>
                                    </div>
                                    <div class="flex items-start space-x-2">
                                        <input type="checkbox" id="newsletter-consent" class="mt-1">
                                        <label for="newsletter-consent" class="text-sm text-gray-600">
                                            I consent to receiving emails and agree to the
                                            <a href="/privacy.html" target="_blank"
                                                class="underline text-dfmTeal">privacy policy</a>.
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dfmBlue text-white py-12">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-brain text-3xl"></i>
                        <span class="text-xl font-bold">Danish Foundation Models</span>
                    </div>
                    <p class="mt-2 text-gray-300">Advancing AI for the Danish language</p>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                    <div>
                        <h4 class="font-bold mb-4">Project</h4>
                        <ul class="space-y-2">
                            <li><a href="#about" class="hover:text-dfmGreen transition">About</a></li>
                            <li><a href="#news" class="hover:text-dfmGreen transition">News</a></li>
                            <li><a href="#roadmap" class="hover:text-dfmGreen transition">Roadmap</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Contribute</h4>
                        <ul class="space-y-2">
                            <li><a href="#contribute" class="hover:text-dfmGreen transition">Get Involved</a></li>
                            <li><a href="#" class="hover:text-dfmGreen transition">GitHub</a></li>
                            <li><a href="#" class="hover:text-dfmGreen transition">Documentation</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Legal</h4>
                        <ul class="space-y-2">
                            <li><a href="#" class="hover:text-dfmGreen transition">Privacy Policy</a></li>
                            <li><a href="#" class="hover:text-dfmGreen transition">Terms of Use</a></li>
                            <li><a href="#" class="hover:text-dfmGreen transition">License</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400">© 2023 Danish Foundation Models. All rights reserved.</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="text-gray-400 hover:text-white text-xl"><i class="fab fa-github"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-xl"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-xl"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Inline Delete Confirmation Modal -->
    <div id="delete-confirmation-modal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg shadow-lg p-6 max-w-sm w-full">
            <h2 class="text-lg font-bold mb-4 text-dfmBlue">Confirm Deletion</h2>
            <p class="text-gray-700 mb-6">Are you sure you want to delete this news item?</p>
            <div class="flex justify-end gap-4">
                <button id="cancel-delete"
                    class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                <button id="confirm-delete"
                    class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">Delete</button>
            </div>
        </div>
    </div>

    <div id="notification" class="fixed top-6 right-6 bg-dfmTeal text-white px-4 py-2 rounded-lg shadow-lg hidden z-50">
    </div>

    <script>
        let authToken = '';

        const API_URL = '/api/news';

        const newsContainer = document.getElementById('news-container');
        const addNewsBtn = document.getElementById('add-news-btn');
        const newsForm = document.getElementById('news-form');
        const newsItemForm = document.getElementById('news-item-form');
        const cancelNews = document.getElementById('cancel-news');

        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            const base = "fixed top-6 right-6 px-4 py-2 rounded-lg shadow-lg z-50";
            const typeClasses = {
                info: "bg-dfmTeal text-white",
                error: "bg-red-600 text-white",
                success: "bg-green-600 text-white",
            };
            notification.className = `${base} ${typeClasses[type] || typeClasses.info}`;
            notification.classList.remove('hidden');
            setTimeout(() => {
                notification.classList.add('hidden');
            }, duration);
        }

        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        async function fetchNews() {
            try {
                const res = await fetch(API_URL);
                const newsData = await res.json();
                displayNews(newsData.reverse());
            } catch (e) {
                console.error('Error fetching news:', e);
            }
        }

        let deleteNewsId = null;

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('delete-news')) {
                deleteNewsId = e.target.getAttribute('data-id');
                document.getElementById('delete-confirmation-modal').classList.remove('hidden');
            }
        });

        document.getElementById('cancel-delete').addEventListener('click', () => {
            deleteNewsId = null;
            document.getElementById('delete-confirmation-modal').classList.add('hidden');
        });

        document.getElementById('confirm-delete').addEventListener('click', async () => {
            if (!deleteNewsId) return;
            try {
                const res = await fetch(`${API_URL}/${deleteNewsId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': 'Bearer ' + authToken
                    }
                });
                if (res.ok) {
                    fetchNews();
                    showNotification('News item deleted successfully', 'success');
                } else {
                    const err = await res.json();
                    showNotification('Error deleting news item: ' + err.error, 'error');
                }
            } catch (err) {
                console.error('Error:', err);
                showNotification('Error deleting news item', 'error');
            } finally {
                deleteNewsId = null;
                document.getElementById('delete-confirmation-modal').classList.add('hidden');
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('edit-news')) {
                const id = e.target.getAttribute('data-id');
                const title = decodeURIComponent(e.target.getAttribute('data-title'));
                const date = e.target.getAttribute('data-date');
                const content = decodeURIComponent(e.target.getAttribute('data-content'));
                document.getElementById('news-title').value = title;
                document.getElementById('news-date').value = date;
                document.getElementById('news-content').value = content;
                newsForm.classList.remove('hidden');
                addNewsBtn.dataset.editing = id;
                document.getElementById('news-submit-btn').textContent = 'Update News';
                addNewsBtn.classList.add('hidden');
            }
        });

        function sanitizeHTML(input) {
            const template = document.createElement('template');
            template.innerHTML = input;
            const allowedTags = ['br', 'b', 'i', 'em', 'strong', 'a', 'ul', 'ol', 'li', 'p'];
            const walker = document.createTreeWalker(template.content, NodeFilter.SHOW_ELEMENT, {
                acceptNode: (node) => allowedTags.includes(node.nodeName.toLowerCase()) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT
            });
            let node;
            while (node = walker.nextNode()) {
                [...node.attributes].forEach(attr => {
                    if (node.nodeName.toLowerCase() === 'a' && attr.name === 'href') return;
                    node.removeAttribute(attr.name);
                });
            }
            return template.innerHTML;
        }

        function truncateHTML(html, maxChars = 140) {
            const template = document.createElement('template');
            template.innerHTML = html;
            let count = 0;
            const output = document.createElement('div');
            function traverse(node, parent) {
                if (count >= maxChars) return;
                if (node.nodeType === Node.TEXT_NODE) {
                    const remaining = maxChars - count;
                    const text = node.textContent.slice(0, remaining);
                    count += text.length;
                    parent.appendChild(document.createTextNode(text));
                } else if (node.nodeType === Node.ELEMENT_NODE) {
                    const clone = document.createElement(node.tagName);
                    for (const attr of node.attributes) {
                        if (node.tagName === 'A' && attr.name === 'href') {
                            clone.setAttribute(attr.name, attr.value);
                        }
                    }
                    parent.appendChild(clone);
                    for (const child of node.childNodes) {
                        traverse(child, clone);
                        if (count >= maxChars) break;
                    }
                }
            }
            for (const child of template.content.childNodes) {
                traverse(child, output);
                if (count >= maxChars) break;
            }
            const span = document.createElement('span');
            span.textContent = '...';
            output.lastElementChild?.appendChild(span) || output.appendChild(span);
            return output.innerHTML;
        }

        function displayNews(newsData) {
            newsContainer.innerHTML = '';
            newsData.forEach((news) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg relative';
                const deleteBtnHTML = authToken && news.id
                    ? `<button
                    class="delete-news absolute top-2 right-2 w-6 h-6 rounded-full bg-red-100 hover:bg-red-200 text-red-600 hover:text-red-800 flex items-center justify-center text-lg font-bold"
                    data-id="${news.id}"
                    title="Delete News">&times;</button>`
                    : '';
                const editBtnHTML = authToken && news.id
                    ? `<button class="edit-news absolute top-10 right-2 w-6 h-6 rounded-full bg-yellow-100 hover:bg-yellow-200 text-yellow-600 hover:text-yellow-800 flex items-center justify-center text-lg font-bold"
                    data-id="${news.id}" 
                    data-title="${encodeURIComponent(news.title)}"
                    data-date="${news.date}"
                    data-content="${encodeURIComponent(news.content)}"
                    title="Edit News">✎</button>`
                    : '';
                const rawContent = news.content;
                const fullSanitized = sanitizeHTML(rawContent);
                const plainTextLength = rawContent.replace(/<[^>]*>/g, '').length;
                const isLong = plainTextLength > 140;
                const truncatedSanitized = isLong
                    ? truncateHTML(fullSanitized, 140)
                    : fullSanitized;
                newsItem.innerHTML = `
                    ${deleteBtnHTML}
                    ${editBtnHTML}
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-dfmBlue">${news.title}</h3>
                            <span class="text-sm text-gray-500">${formatDate(news.date)}</span>
                        </div>
                        <div class="relative">
                            <div class="content-wrapper"
                                data-full="${encodeURIComponent(fullSanitized)}"
                                data-truncated="${encodeURIComponent(truncatedSanitized)}"
                                data-expanded="false">
                                <div class="text-gray-700 content-text">${truncatedSanitized}</div>
                            </div>
                            ${isLong ? `<button class="mt-2 text-dfmTeal hover:text-dfmBlue font-medium toggle-content-btn">Read more</button>` : ''}
                        </div>
                    </div>
                `;
                newsContainer.appendChild(newsItem);
            });
        }

        document.addEventListener('click', (e) => {
            if (!e.target.classList.contains('toggle-content-btn')) return;
            const btn = e.target;
            const wrapper = btn.closest('.relative').querySelector('.content-wrapper');
            const contentBox = wrapper.querySelector('.content-text');
            const card = btn.closest('.news-item');
            const isExpanded = wrapper.dataset.expanded === 'true';
            const fullHTML = decodeURIComponent(wrapper.dataset.full);
            const truncatedHTML = decodeURIComponent(wrapper.dataset.truncated);
            contentBox.innerHTML = isExpanded ? truncatedHTML : fullHTML;
            btn.textContent = isExpanded ? 'Read more' : 'Read less';
            wrapper.dataset.expanded = (!isExpanded).toString();
            if (isExpanded) {
                const cardTop = card.getBoundingClientRect().top;
                const navOffset = 100;
                if (cardTop < navOffset) {
                    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        });

        addNewsBtn.addEventListener('click', () => {
            if (!authToken) {
                login();
            } else {
                newsForm.classList.toggle('hidden');
                document.getElementById('news-submit-btn').textContent = 'Add News';
                addNewsBtn.classList.add('hidden');
                document.getElementById('news-title').value = '';
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('news-date').value = today;
                document.getElementById('news-content').value = '';
                delete addNewsBtn.dataset.editing;
            }
        });

        cancelNews.addEventListener('click', () => {
            newsForm.classList.add('hidden');
            addNewsBtn.classList.remove('hidden');
            showNotification('News form cancelled.', 'info');
        });

        newsItemForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('news-title').value;
            const date = document.getElementById('news-date').value;
            const content = document.getElementById('news-content').value;
            const editingId = addNewsBtn.dataset.editing;
            if (!title || !date || !content) {
                showNotification('All fields are required.', 'error');
                return;
            }
            const method = editingId ? 'PUT' : 'POST';
            const url = editingId ? `${API_URL}/${editingId}` : API_URL;
            try {
                const res = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + authToken
                    },
                    body: JSON.stringify({ title, date, content })
                });
                if (res.ok) {
                    fetchNews();
                    newsItemForm.reset();
                    newsForm.classList.add('hidden');
                    addNewsBtn.classList.remove('hidden');
                    showNotification(editingId ? 'News updated successfully!' : 'News posted successfully!', 'success');
                } else {
                    const err = await res.json();
                    showNotification('Error posting news: ' + err.error, 'error');
                }
            } catch (e) {
                console.error('Error posting news:', e);
                showNotification('Network error. Please try again later.', 'error');
            }
        });
        fetchNews();

        document.getElementById('contact-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value.trim();
            if (!name || !email || !subject || !message) {
                showNotification('All fields are required.', 'error');
                return;
            }
            try {
                const res = await fetch('/api/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email, subject, message })
                });
                const result = await res.json();
                if (res.ok) {
                    showNotification('Message sent successfully!', 'success');
                    e.target.reset();
                } else {
                    showNotification('Error sending message: ' + result.error, 'error');
                }
            } catch (err) {
                console.error(err);
                showNotification('Network error. Please try again later.', 'error');
            }
        });

        document.getElementById('newsletter-submit').addEventListener('click', async () => {
            const emailInput = document.getElementById('newsletter-email');
            const consentCheckbox = document.getElementById('newsletter-consent');
            const email = emailInput.value.trim();
            const consent = consentCheckbox.checked;
            if (!email) {
                showNotification('Email is required.', 'error');
                return;
            }
            if (!consent) {
                showNotification('You must agree to the privacy policy.', 'error');
                return;
            }
            try {
                const res = await fetch('/api/newsletter', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, consent })
                });
                const result = await res.json();
                if (res.ok) {
                    showNotification('Subscription successful!', 'success');
                    emailInput.value = '';
                    consentCheckbox.checked = false;
                } else {
                    showNotification('Error subscribing: ' + result.error, 'error');
                }
            } catch (e) {
                console.error(e);
                showNotification('Network error. Please try again later.', 'error');
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            const loginBox = document.getElementById('admin-login-box');
            const loginLink = document.getElementById('admin-login-link');
            const loginBtn = document.getElementById('admin-login-submit');
            const loginInput = document.getElementById('admin-password');
            const loginError = document.getElementById('admin-login-error');
            const loginLabel = document.getElementById('admin-login-label');
            loginLink.addEventListener('click', (e) => {
                e.preventDefault();

                if (loginLabel.textContent === '[Logout]') {
                    // Perform logout
                    authToken = '';
                    loginLabel.textContent = '[Admin]';
                    showNotification('Logged out successfully.', 'success');
                    fetchNews();
                    addNewsBtn.classList.add('hidden');
                    return;
                }

                // Show login form if not logged in
                loginBox.classList.toggle('hidden');
                loginError.classList.add('hidden');
                loginInput.value = '';
                loginInput.focus();
            });
            async function handleLogin() {
                const password = loginInput.value.trim();
                if (!password) return;

                try {
                    const res = await fetch('/api/login', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ password })
                    });

                    const data = await res.json();
                    if (res.ok) {
                        authToken = data.token;
                        addNewsBtn.classList.remove('hidden');
                        loginBox.classList.add('hidden');
                        loginError.classList.add('hidden');
                        loginLabel.textContent = '[Logout]';
                        fetchNews();
                        showNotification('Logged in successfully.', 'success');
                    } else {
                        loginError.textContent = data.error || 'Invalid password.';
                        loginError.classList.remove('hidden');
                        loginInput.focus();
                    }
                } catch (err) {
                    loginError.textContent = 'Network error.';
                    loginError.classList.remove('hidden');
                    loginInput.focus();
                }
            }
            loginBtn.addEventListener('click', handleLogin);
            loginInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    handleLogin();
                }
            });
            document.addEventListener('click', (e) => {
                if (
                    !loginBox.contains(e.target) &&
                    e.target !== loginLink &&
                    !loginLink.contains(e.target)
                ) {
                    loginBox.classList.add('hidden');
                }
            });
        });
    </script>

</body>

</html>